# Outline:
- An image conversion tool built using Dart using an open-source CLI package I had previously built, which can be found [here](https://github.com/akashvshroff/CLI_Wizard_Tool). The project allows users to convert any picture in their current working directory from PNG to JPEG or JPG and vice-versa using the [image package](https://pub.dev/packages/image). A detailed description of the build lies below. 

# Purpose:
- Before I could properly understand Flutter and dive headfirst into the world of app development, I wanted to better understand Dart and therefore be able to fully leverage its characteristics to build cleaner and more efficient apps. While I have in-depth experience with Python, my rudimentary Java knowledge did not provide an apt introduction to a C-style typed language like Dart and therefore I wanted to learn more about Dart through these sort of projects. 
- This project was covered in the [Flutter and Dart](https://www.udemy.com/course/dart-and-flutter-the-complete-developers-guide/learn/lecture/10645864?components=buy_button%2Cdiscount_expiration%2Cgift_this_course%2Cpurchase%2Cdeal_badge%2Credeem_coupon#overview) Udemy Course and through it I was able to understand some of the more nuanced facets of Object Oriented Programming and Dart. 
- While relatively easy, the build was very engaging as I tried relying on the Dart standard library to build a clean CLI and understood useful concepts such as interacting with the file system, decoding and encoding images as well as synchronous vs asynchronous code. 

# Description:
- The program is built using 2 packages, the [cli wizard](https://pub.dev/packages/image) that I have previously built and the [image package](https://pub.dev/packages/image) - the former which is used to set up the interface and the latter which handles the image conversion. 
- To understand how the CLI package has been used, I'd recommend glancing at the [README](https://github.com/akashvshroff/CLI_Wizard_Tool/blob/master/README.md) of the CLI package but I'll be explaining the working of it very briefly here as well. 
- The Prompter class in the package serves as the main interface tool and houses the two methods that drive this build, the askBinary and the askMultiple, the former is used to ask yes or no questions while the latter is used to ask users to pick from a bunch of options. Each option is an instance of the Object class, and consists of a label which is what is displayed to the user and a value, which is what is returned when the user makes a choice - this value is of dynamic type and the label is a String. For example, while choosing colours, the label could be "I pick red" while the value could be a String with the hex code of red, "#FF0000". 
- The main.dart file in the bin directory houses the main interface components and is the driver for the code. The users are asked whether they want to convert an image and the nature of their conversion, i.e PNG to JPG or JPEG or vice-versa. 
- Depending on their choice, the files in the current directory are filtered and the images they could convert are presented to them. These files are gotten using the Directory class in the dart:io package, and then they're filtered using where and a RegExp which matches the file extension. Then these file options are mapped and converted into Option instances with their filename serving as the label and the FileSystemEntity (a reference to the file on the disk) serving as the value. 
-  The image conversion process was slightly trickier and the helper file that the conversion process is abstracted to lies in the src folder in converter.dart. 
- In a general sense, the FileSystemEntity is considered as a File and then converted to a rawImage (List<int>) through the readAsBytesSync method and then converted to an Image using the decodeImage function of the image package. The image is then encoded to the format chosen based on the format picked by the user. 
- The converted image is saved to the system with the same name (all occurences of the extension format replaced) and users can choose to open the image or not. 
- The CLI package makes it very easy to create minimal and effective interfaces - please feel free to reach out to me if you have any questions! 